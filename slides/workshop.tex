\documentclass[xetex, onlymath]{beamer}
\usefonttheme{serif}
\usetheme{hsr}

% use lmodern for math
\usepackage{lmodern}

% select font
\usepackage[T1]{fontenc}
\usepackage[usefilenames]{plex-otf}
\renewcommand*\familydefault{\sfdefault}

\usepackage{graphicx}
\usepackage{booktabs}
\usepackage{array}

% pretty drawings
\usepackage{tikz}
\usetikzlibrary{%
    decorations.pathreplacing,%
    decorations.pathmorphing%
}

\usepackage{pgfplots}
\pgfplotsset{compat=1.15}

\usepackage{listings}
%% create a lstlisting style
\lstdefinestyle{samplestyle}{
    belowcaptionskip=\baselineskip,
    breaklines=true,
    frame=none,
    inputencoding=utf8,
    % margin
    xleftmargin=\parindent,
    % numbers
    numbers=left,
    numbersep=5pt,
    numberstyle=\ttfamily\footnotesize\color{hsr-black40},
    % background
    backgroundcolor=\color{hsr-lightgrey20},
    % default language:
    language=[LaTeX]TeX,
    showstringspaces=false,
    % font
    basicstyle=\ttfamily\small,
    identifierstyle=\color{hsr-black},
    keywordstyle=\color{hsr-blue},
    commentstyle=\color{hsr-black40},
    stringstyle=\color{hsr-mauve80},
}

%% and set the chosen style
\lstset{style=samplestyle, escapechar=`}


% metadata
\title{\textrm{\LaTeXe} Workshop}
\author[NaoPross]{\texttt{Naoki Pross <npross@hsr.ch>}}
\date{\today}

\institute[HSR]{Hochschule f\"ur Technik Rapperswil}
%\logo{\includegraphics[width=3cm]{figs/hsr-logo}}

\AtBeginSection[]
{
  \begin{frame}
    \frametitle{Table of Contents}
    \tableofcontents[currentsection]
  \end{frame}
}


\begin{document}
\begin{frame}
\maketitle
\end{frame}

\begin{frame}{Why engineers should know \textrm{\LaTeX}}
	\begin{center}
		\begin{tikzpicture}
			\begin{axis}[
				smooth, samples = 100,
				axis lines = left,
				axis line style = { thick },
				width = \textwidth,
				height = \axisdefaultheight,
				grid style = dashed,
				xlabel = Complexity,
				ylabel = Difficulty,
				x label style={at={(axis description cs:1,.1)},anchor=east},
				ytick = \empty,
				xtick = {2, 4, 6, 11, 13, 16, 20, 22},
				xticklabels = {Text, Figures, Tables, Math, Plots, {Technical\\ Report}, Thesis, Book},
				xticklabel style = {align = center},
				x tick label style = { rotate = 70, anchor = east, font=\footnotesize },
				legend style = { legend pos = north west },
				no markers, domain = 0:25,
			]
				\plot[very thick, hsr-mauve60, domain=0:14]{exp(x/3 - 2.5)};
				\addlegendentry{Word}
				\plot[very thick, hsr-blue]{3/(1 + exp(-2*(x-2.5))) + x/50*exp((x-4)/12)};
				\addlegendentry{\textrm{\LaTeX}}
			\end{axis}
		\end{tikzpicture}
	\end{center}
\end{frame}

\begin{frame}{Goal: Learn to typeset something like this}
	\begin{center}
		\vspace{1cm}
		\includegraphics[width=.8\linewidth]{figs/gauss-flux}
	\end{center}
\end{frame}

\begin{frame}{About this presentation}
\begin{block}{Content}
\begin{itemize}
	\item \textrm{\LaTeX} is \emph{learn by doing} \\
	\item Will be mostly examples
	\item Sorry for the crowded slides
\end{itemize}
\end{block}

\begin{exampleblock}{Example}
Things in green boxes are examples
\end{exampleblock}

\begin{alertblock}{Tip}
Things in red boxes are tips or extras
\end{alertblock}
\end{frame}

\section{Introduction}

\begin{frame}{What is Typesetting}
\end{frame}

\begin{frame}{History \& \textrm{\LaTeX}}
\end{frame}

\section{Fundamentals}
\begin{frame}{Source code spacing}
\end{frame}

\begin{frame}{Special characters}
\end{frame}

\begin{frame}{Commands}
\end{frame}

\begin{frame}{Environments}
\end{frame}

\begin{frame}{Document structure}
\end{frame}

\begin{frame}{Spacing and newlines}
\end{frame}

\section{Basics}
\begin{frame}[fragile]{Emphasis, Bold, Italic, \ldots}
\begin{lstlisting}
This is \emph{emphatized}.
You may also use
\textbf{Bold},
\textit{Italic},
\textsf{Sans-Serif},
\textsc{SmallCaps},
\textrm{Roman},      % with serif
\texttt{Typewriter}. % monospaced
\end{lstlisting}

\begin{exampleblock}{}
This is \emph{emphatized}.
You may also use
\textbf{Bold},
\textit{Italic},
\textsf{Sans-Serif},
\textsc{SmallCaps}\footnote{The font used in this presentation does not have smallcaps shapes},
\textrm{Roman} or
\texttt{Typewriter}.
\end{exampleblock}
\end{frame}

\begin{frame}[fragile]{Lists}
\begin{columns}
\begin{column}{.5\linewidth}
\begin{lstlisting}
\begin{itemize}
  \item Tomatoes
  \item Peppers
  \item Broccoli
\end{itemize}
\end{lstlisting}

\begin{lstlisting}
\begin{enumerate}
  \item Discover coffee
  \item Get addicted
  \item Congratulations
\end{enumerate}
\end{lstlisting}
\end{column}

\begin{column}{.4\linewidth}
\begin{exampleblock}{Itemize}
	\begin{itemize}
		\item Tomatoes
		\item Peppers
		\item Broccoli
	\end{itemize}
\end{exampleblock}
\begin{exampleblock}{Enumerate}
	\begin{enumerate}
		\item Discover coffee
		\item Get addicted
		\item Congratulations
	\end{enumerate}
\end{exampleblock}
\end{column}
\end{columns}
\end{frame}

\begin{frame}[fragile]{Description}
\begin{lstlisting}
\begin{description}
  \item[Programmer] A person who is paid to professionally scream at a computer.
  
  \item[Manager] A person who appears to know how all tasks should be accomplished but can't actually do any of those tasks themselves.
\end{description}
\end{lstlisting}

\begin{exampleblock}{}
\begin{description}
  \item[Programmer] A person who is paid to professionally scream at a computer.
  \item[Manager] A person who appears to know how all tasks should be accomplished but can't actually do any of those tasks themselves.
\end{description}
\end{exampleblock}
\end{frame}

\begin{frame}{Floating elements}
\begin{table}
	\caption{Floats placing permissions}
	\begin{tabular}{>{\ttfamily}l l}
		\toprule
		\textsf{Specifier} & Permission \\
		\midrule
		h & Place around here \\
		t & At the top of the page \\
		b & At the bottom of the page \\
		p & On a special page containing only floats \\
		! & ``I don't care if it will be ugly'' \\
		H\footnote{Requires the ``\texttt{float}'' package, i.e. 
			``\texttt{\textbackslash usepackage\{float\}}''} 
		  & Place \textbf{exactly here} (may look very ugly) \\
		\bottomrule
	\end{tabular}
\end{table}
\end{frame}

\begin{frame}[fragile]{Tables and tabular}
\begin{lstlisting}
\begin{table}[h]
  \caption{Not up to date numbers}
  \begin{tabular}{l r r}
    `\textcolor{hsr-mauve}{\textbackslash toprule}`
    Country & Infected & Deaths \\
    `\textcolor{hsr-mauve}{\textbackslash midrule}`
    China       & 80'652 & 3'070 \\
    South Korea &  7'041 &    44 \\
    Italy       &  5'833 &   233 \\
    `\textcolor{hsr-mauve}{\textbackslash bottomrule}`
  \end{tabular}
\end{table}
\end{lstlisting}
\begin{alertblock}{Pro Tip}
	Add ``\texttt{\textbackslash usepackage\{booktabs\}}'' to use
	rulers.
\end{alertblock}
\end{frame}

\begin{frame}{Tables and tabular}
\begin{exampleblock}{Example Table}
\begin{table}
  \caption{Not up to date numbers}
  \begin{tabular}{l r r}
    \toprule
    Country & Infected & Deaths \\
    \midrule
    China       & 80'652 & 3'070 \\
    South Korea &  7'041 &    44 \\
    Italy       &  5'833 &   233 \\
    \bottomrule
  \end{tabular}
\end{table}
\end{exampleblock}
\end{frame}


\begin{frame}{Figures}
\end{frame}

\begin{frame}[fragile]{Cross-References}
\begin{lstlisting}
\section{Introduction} 
... will be discussed in \S \ref{sec:nvstokes} ...

\section{Stokes equation} \label{sec:nvstokes}
\end{lstlisting}

\begin{exampleblock}{Document}
\textbf{1\; Introduction} \\[.2em]
\ldots{} will be discussed in \S 4 \ldots{}
\\[1em]

\textbf{4\; Stokes Equation} \\[.2em]
\ldots{}
\end{exampleblock}

\begin{alertblock}{Pro Tip}
Use prefixes such as \texttt{sec:, fig:, tab:, bib:, eqn:} to avoid mistakes.
\end{alertblock}
\end{frame}

\begin{frame}[fragile]{Cross-References}
\begin{columns}
\begin{column}{.5\linewidth}
\begin{lstlisting}
\begin{figure} % or table
  \includegraphics{...}
  \caption{Reflection and refraction of electromagnetic waves.}
  \label{fig:refl}
\end{figure}

... as shown in figure
\ref{fig:refl} ...
\end{lstlisting}
\end{column}
\begin{column}{.5\linewidth}
\begin{exampleblock}{Figure reference}
\begin{figure}[h]
	\newsavebox\reflfigbox%
	\begin{lrbox}{\reflfigbox}%
		\input{figs/incidence.tikz}
	\end{lrbox}
	\resizebox{\textwidth}{!}{\usebox\reflfigbox}%
	\caption{Reflection and refraction of electromagnetic waves.}
	\label{fig:refract}
\end{figure}
\ldots{} as shown in figure \ref{fig:refract} \ldots{}
\end{exampleblock}
\end{column}
\end{columns}
\end{frame}

\section{Mathematics}
\begin{frame}{Math environments}
\begin{table} \centering \Large
\begin{tabular}{>{\tt}l >{\tt}c >{\tt}c}
	\toprule
	\textsf{Environment} & \textrm{\LaTeX{}}\footnote{This one is preferred} & \textrm{\TeX} \\
	\midrule
	math & \textbackslash ( \ldots{} \textbackslash ) & \$ \ldots{} \$ \\
   displaymath & \textbackslash [ \ldots{} \textbackslash ] & \$\$ \ldots{} \$\$ \\
   \bottomrule
\end{tabular}
\end{table}
\end{frame}

\begin{frame}[fragile]{Example}
\begin{lstlisting}
The Pythagoran Theorem states that for a right trangle with sides `\textcolor{hsr-blue}{\textbackslash(a,b,c\textbackslash)}` there is the relation
\[
    c^2 = a^2 + b^2
\] 
\end{lstlisting}

\begin{exampleblock}{}
The Pythagoran Theorem states that for a right trangle with sides \(a, b, c\) there is the relation
\[
    c^2 = a^2 + b^2
\] 
\end{exampleblock}
\end{frame}

\begin{frame}{Spacing and text in math mode}
\end{frame}

\begin{frame}[fragile]{Sub. and Superscript}
\begin{lstlisting}
\[
  c = \sqrt{a^2 + b^2 - 2ab \cos( \alpha_{ab} )}
\]
\end{lstlisting}
\begin{exampleblock}{Cosine theorem}
\LARGE
\[
  c = \sqrt{ a^2 + b^2 - 2ab \cos( \alpha_{ab} ) }
\]
\end{exampleblock}
\end{frame}

\begin{frame}[fragile]{Sum and Integral}
\begin{lstlisting}
\[
  % math community meme
  \sum_{k = 1}^{\infty} k = - \frac{1}{12}
  \hspace{1.5cm}

  % fourier transform
  F(\omega) = \int\limits_{-\infty}^\infty 
    f(t) e^{i\omega t} \mathrm{d}t
\]
\end{lstlisting}
\begin{exampleblock}{}
\[
  \sum_{k = 1}^{\infty} k = - \frac{1}{12}
  \hspace{1.5cm}
  F(\omega) = \int\limits_{-\infty}^\infty f(t) e^{i\omega t} \,\mathrm{d}t
\]
\end{exampleblock}
\end{frame}

\begin{frame}[fragile]{Matrices}
\begin{lstlisting}
\[
    \mathbf{J} = \begin{pmatrix}
        0 & 1 \\
        1 & 0 \\
    \end{pmatrix}
\]
\end{lstlisting}
\begin{exampleblock}{The complex matrix}
\[
    \mathbf{J} = \begin{pmatrix}
        0 & 1 \\
        1 & 0 \\
    \end{pmatrix}
    \hspace{1cm}    
    \mathbf{R}_\phi = e^{\phi\mathbf{J}}
\]
\end{exampleblock}
\end{frame}

\begin{frame}[fragile]{Equations}
\begin{lstlisting}
Equation \ref{eqn:schroedinger} is the Schr\"odinger Equation that describes the evolution of a quantum state \(\psi\).

\begin{equation} \label{eqn:schroedinger}
  i\hbar \partial_t \psi =
    - \frac{\hbar^2}{2m} \partial^2_x \psi + V\psi
\end{equation}
\end{lstlisting}

\begin{exampleblock}{}
Equation \ref{eqn:schroedinger} is the Schr\"odinger equation that describes the evolution of a quantum state \(\psi\).

\begin{equation} \label{eqn:schroedinger}
i\hbar\, \partial_t \psi = - \frac{\hbar^2}{2m}\, \partial^2_x \psi + V\psi
\end{equation}
\end{exampleblock}
\end{frame}

\begin{frame}[fragile]{Alignment}
\begin{lstlisting}
\begin{align*}
    \nabla \cdot \mathbf{F}(1,1)
      &= \partial_x f + \partial_y f \\
      &= 2x + 3y^4 \\
      &= 2 + 3 \\
      &= 5
\end{align*}
\end{lstlisting}
\begin{exampleblock}{}
\begin{align*}
    \nabla \cdot \mathbf{F}(1,1)
      &= \partial_x f + \partial_y f \\
      &= 2x + 3y^4 \\
      &= 2 + 3 \\
      &= 5
\end{align*}
\end{exampleblock}
\end{frame}

\begin{frame}{Math styles}
\end{frame}

\begin{frame}{Learn by doing: try to typeset these}
\centering
\scalebox{1.8}{%
\begin{minipage}{.5\textwidth}
\begin{align*}
	x_{t+1} &= kx_t (1 - x_t) \\[1.2em]
	H &= - \sum_{x \in \mathbb{X}} p(x) \log p(x) \\[1em]
	\mathcal{L}^{-1}[F] &= 
		\lim_{T \to \infty}
		\frac{1}{2\pi i}
		\int\limits_{\gamma - iT}^{\gamma + iT}
		e^{st} F(s) \,\mathrm{d}s\\
\end{align*}
\end{minipage}}
\end{frame}

\section{Bibliography management}
\begin{frame}{The Bibliography}
\end{frame}

\begin{frame}{External bibliography}
\end{frame}

\section{Extras}
\begin{frame}{Source code listings}
\end{frame}

\begin{frame}{Plots}
\end{frame}

\begin{frame}{TikZ}
\end{frame}

\end{document}